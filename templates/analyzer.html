{% extends "base.html" %}
{% block content %}



<h1>Grade Analyzer</h1>
<form method="POST">
    
   
<ol>
  <li>Professor Summary</li>
  <li>Average by Course</li>
  <li>Overall Data</li>
  <li>Best/Worst A Ratio (Professor)</li>
  <li>Full A Ratio</li>
</ol>



 <label for="option">Select option (1-5): :</label>
  <input type="number" id="option" name="option" min="1" max="5" required />







    
 <!-- Extra fields  for options 1 and 6 -->
  <div id="extra-fields" style="margin-top:1em;">
    <div id="prof-field" style="display:none;">
      <label for="prof_name">Professor Last Name:</label>
      <input type="text" id="prof_name" name="prof_name" placeholder="e.g. Smith" />
    </div>

    <div id="class-field" style="display:none;">
      <label for="class_name">Course Name:</label>
      <input type="text" id="class_name" name="class_name" placeholder="e.g. Math 2" />
    </div>
  </div>

  <br>
  <button type="submit">Submit</button>
</form>

<!-- Results placeholders -->
{% if analysis %}
  <h2>Results</h2>
  <pre>{{ analysis }}</pre>
{% endif %}

{% if plot_img %}
  <h2>Visualization</h2>
  <img src="data:image/png;base64,{{ plot_img }}" alt="Analysis Chart" />
{% endif %}

<script>
  // Toggle extra input fields based on choice
  const choiceInput = document.getElementById("option");
  const profField = document.getElementById("prof-field");
  const classField = document.getElementById("class-field");

  choiceInput.addEventListener("input", function() {
    profField.style.display = (this.value === "1") ? "block" : "none";
    classField.style.display = (this.value === "6") ? "block" : "none";
  });
</script>

</body>
</html>
</form>



<!-- Results placeholder
{% if analysis %} <pre>{{ analysis }}</pre>
{% endif %} {% if plot_img %} 
<img src="data:image/png;base64,{{ plot_img }}" alt="Analysis Chart" /> {% endif %} <script> 
    // Add the JavaScript from the artifact here test </script> {% endblock %}s -->










